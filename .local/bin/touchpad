#!/bin/sh

TOUCHPAD_IDS=$(xinput list | grep -i "Touchpad" | sed -n 's/.*id=\([0-9]*\).*/\1/p')

for id in $TOUCHPAD_IDS; do
    NATURAL_SCROLL_PROP_ID=$(xinput list-props "$id" | grep "Natural Scrolling Enabled" | sed -n 's/.*(\([0-9]*\)).*/\1/p')
    TAPPING_PROP_ID=$(xinput list-props "$id" | grep "Tapping Enabled" | sed -n 's/.*(\([0-9]*\)).*/\1/p')

    if [ -n "$NATURAL_SCROLL_PROP_ID" ]; then
        xinput set-prop "$id" "$NATURAL_SCROLL_PROP_ID" 1
    fi

    if [ -n "$TAPPING_PROP_ID" ]; then
        xinput set-prop "$id" "$TAPPING_PROP_ID" 1
    fi
done